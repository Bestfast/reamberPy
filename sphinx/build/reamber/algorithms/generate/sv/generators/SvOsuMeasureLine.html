

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Osu Measure Lines &mdash; reamberPy 0.1.1 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/plot_directive.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/custom/style.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js"></script>
        <script src="../../../../../_static/jquery.js"></script>
        <script src="../../../../../_static/underscore.js"></script>
        <script src="../../../../../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="Osu Measure Lines Primer" href="SvOsuMeasureLinePrimer.html" />
    <link rel="prev" title="Scroll Velocities" href="../../Sv.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../index.html" class="icon icon-home"> reamberPy
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../info/GettingStarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../info/Stacking.html">Stacking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../info/About.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../info/Conventions.html">Conventions</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">Documentation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../../../Algorithms.html">Algorithms</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../Api.html">API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Convert.html">Convert</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../../Generate.html">Generate</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="../../Sv.html">SV</a><ul class="current">
<li class="toctree-l5 current"><a class="current reference internal" href="#"> Osu Measure Line</a><ul>
<li class="toctree-l6"><a class="reference internal" href="SvOsuMeasureLinePrimer.html"> Measure Line Manipulation Primer</a></li>
<li class="toctree-l6"><a class="reference internal" href="SvOsuMeasureLineMD.html">Measure Line Multi Dimensional</a></li>
<li class="toctree-l6"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l7"><a class="reference internal" href="#algorithm-a">Algorithm A</a></li>
<li class="toctree-l7"><a class="reference internal" href="#algorithm-b">Algorithm B</a></li>
<li class="toctree-l7"><a class="reference internal" href="#algorithm-c">Algorithm C</a></li>
</ul>
</li>
<li class="toctree-l6"><a class="reference internal" href="#differences">Differences</a><ul>
<li class="toctree-l7"><a class="reference internal" href="#recommendations">Recommendations</a></li>
<li class="toctree-l7"><a class="reference internal" href="#traits">Traits</a></li>
<li class="toctree-l7"><a class="reference internal" href="#structures">Structures</a></li>
</ul>
</li>
<li class="toctree-l6"><a class="reference internal" href="#parameters">Parameters</a><ul>
<li class="toctree-l7"><a class="reference internal" href="#first-last-offset">First &amp; Last Offset</a></li>
<li class="toctree-l7"><a class="reference internal" href="#functions-funcs">Functions (funcs)</a></li>
<li class="toctree-l7"><a class="reference internal" href="#teleport-stop-reference-and-fill-bpm">Teleport, Stop, Reference and Fill Bpm</a></li>
<li class="toctree-l7"><a class="reference internal" href="#start-end-x">Start &amp; End X</a></li>
</ul>
</li>
<li class="toctree-l6"><a class="reference internal" href="#module-reamber.algorithms.generate.sv.generators.sv_osu_measure_line_a">Module Info</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="SvNormalizeBpm.html"> Normalize Bpm</a></li>
<li class="toctree-l5"><a class="reference internal" href="SvFuncSequencer.html"> Function Sequencer</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../Sv.html#sequences-and-packages">Sequences and Packages</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../Sv.html#module-reamber.algorithms.generate.sv.SvSequence">Sequence</a></li>
<li class="toctree-l5"><a class="reference internal" href="../../Sv.html#module-reamber.algorithms.generate.sv.SvPkg">Package</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../Mutate.html">Mutate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Pattern.html">Pattern Detection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../PlayField.html">Play Field</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Plot.html">Plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../Replays.html">Replays</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../BMS.html">BMS Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Osu.html">Osu! Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Quaver.html">Quaver Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../SM.html">StepMania Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../O2Jam.html">O2Jam Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../Base.html">Base Objects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../devInfo/DevInfo.html">Development Info</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../info/ChangeLog.html">Change Log</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">reamberPy</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../../index.html">Index</a> &raquo;</li>
        
          <li><a href="../../../../Algorithms.html">Algorithms</a> &raquo;</li>
        
          <li><a href="../../../Generate.html">Generate</a> &raquo;</li>
        
          <li><a href="../../Sv.html">Scroll Velocities</a> &raquo;</li>
        
      <li>Osu Measure Lines</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../_sources/reamber/algorithms/generate/sv/generators/SvOsuMeasureLine.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="osu-measure-lines">
<h1>Osu Measure Lines<a class="headerlink" href="#osu-measure-lines" title="Permalink to this headline">¶</a></h1>
<p><em>This algorithm is targeted at osu! only. This is sub-optimal if you’re dealing with a game that allows negative BPMs.</em></p>
<p>osu! only allows measure lines to move forward, never backward. The trick to make them move freely is to repeatedly
refresh the screen with new positions.</p>
<p>This is almost analogous to the phenomenon that if a fan spins fast enough, it’ll look like it’s spinning backwards.
It’s the reverse-rotation effect.</p>
<p>All of these algorithms use this phenomenon but there are important differences!</p>
<p>Not required, but it’s to have a good understanding on how Measure Line manipulation is done.</p>
<p>Read the following if you’re unfamiliar.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="SvOsuMeasureLinePrimer.html"> Measure Line Manipulation Primer</a></li>
</ul>
</div>
<p>If you want to generate multiple Measure Lines on different time frames, it’s recommended to use the following.</p>
<p>It is recommended to be familiar with Algorithm B since it pivots on it.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="SvOsuMeasureLineMD.html">Measure Line Multi Dimensional</a></li>
</ul>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="algorithm-a">
<h3>Algorithm A<a class="headerlink" href="#algorithm-a" title="Permalink to this headline">¶</a></h3>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{align*}
f(x) &amp;= 0.5 * \sin(2\pi x) + 0.5 \\
g(x) &amp;= 0.5 * \sin(2\pi x + \pi) + 0.5 \\
\end{align*}\end{split}\]</div>
<div class="figure align-center">
<a class="plot-directive reference internal image-reference" href="../../../../../_images/SvOsuMeasureLine-2.png"><img alt="../../../../../_images/SvOsuMeasureLine-2.png" class="plot-directive" src="../../../../../_images/SvOsuMeasureLine-2.png" style="width: 100%;" /></a>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">reamber.osu.OsuBpm</span> <span class="kn">import</span> <span class="n">OsuBpm</span>
<span class="kn">from</span> <span class="nn">reamber.algorithms.generate.sv.generators.sv_osu_measure_line_a</span> <span class="kn">import</span> <span class="n">sv_osu_measure_line_a</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sin</span><span class="p">,</span> <span class="n">pi</span>

<span class="n">seq</span> <span class="o">=</span> <span class="n">sv_osu_measure_line_a</span><span class="p">(</span><span class="n">first_offset</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span>
                        <span class="n">last_offset</span><span class="o">=</span><span class="mi">20000</span><span class="p">,</span>
                        <span class="n">funcs</span><span class="o">=</span><span class="p">[</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">*</span> <span class="mi">2</span><span class="p">),</span>
                               <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">pi</span><span class="p">)],</span>
                        <span class="n">fillBpm</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">startX</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">endX</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">endBpm</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">referenceBpm</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
                        <span class="n">paddingSize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">combine</span><span class="p">()</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;out.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w+&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">writelines</span><span class="p">([</span><span class="n">i</span><span class="o">.</span><span class="n">write_string</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">seq</span><span class="o">.</span><span class="n">write_as_bpm</span><span class="p">(</span><span class="n">OsuBpm</span><span class="p">)])</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Starts from <strong>5000ms</strong>, ends at <strong>20000ms</strong>.</p></li>
<li><p>We have <strong>2 sine functions</strong>, as shown above.</p></li>
<li><p>We start from <span class="math notranslate nohighlight">\(x=0\)</span> to <span class="math notranslate nohighlight">\(x=4\)</span>.</p></li>
<li><p>Reference Bpm is used to match the peak of the sine wave to the top of the field</p></li>
<li><p>If the algorithm doesn’t perfectly end at <strong>19999ms</strong>, it’ll add <code class="docutils literal notranslate"><span class="pre">fillBpm</span></code> Bpm objects until <strong>19999ms</strong>.</p></li>
<li><p>We end off the algorithm with a <strong>200Bpm</strong> at <strong>20000ms</strong>.</p></li>
<li><p>In each frame we have <strong>20 extra empty milliseconds</strong> as padding.</p></li>
</ul>
</div>
<div class="section" id="algorithm-b">
<h3>Algorithm B<a class="headerlink" href="#algorithm-b" title="Permalink to this headline">¶</a></h3>
<p>Same function input as Algorithm A.</p>
<p>Note the difference in output.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">reamber.algorithms.generate.sv.generators.sv_osu_measure_line_b</span> <span class="kn">import</span> <span class="n">sv_osu_measure_line_b</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sin</span><span class="p">,</span> <span class="n">pi</span>

<span class="n">lis</span> <span class="o">=</span> <span class="n">sv_osu_measure_line_b</span><span class="p">(</span><span class="n">first_offset</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                        <span class="n">last_offset</span><span class="o">=</span><span class="mi">40000</span><span class="p">,</span>
                        <span class="n">funcs</span><span class="o">=</span><span class="p">[</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">*</span> <span class="mi">2</span><span class="p">),</span>
                               <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="n">pi</span><span class="p">)],</span>
                        <span class="n">fillBpm</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">startX</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">endX</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">endBpm</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">referenceBpm</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
                        <span class="n">paddingSize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;out.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;w+&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
  <span class="n">f</span><span class="o">.</span><span class="n">writelines</span><span class="p">([</span><span class="n">i</span><span class="o">.</span><span class="n">write_string</span><span class="p">()</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">lis</span><span class="p">])</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Starts from <strong>0ms</strong>, ends at <strong>40000ms</strong>.</p></li>
<li><p>We have <strong>2 sine functions</strong>, as previously shown above.</p></li>
<li><p>We start from <span class="math notranslate nohighlight">\(x=0\)</span> to <span class="math notranslate nohighlight">\(x=4\)</span>.</p></li>
<li><p>Reference Bpm is used to match the peak of the sine wave to the top of the field</p></li>
<li><p>If the algorithm doesn’t perfectly end at <strong>39999ms</strong>, it’ll add <code class="docutils literal notranslate"><span class="pre">fillBpm</span></code> Bpm objects until <strong>39999ms</strong>.</p></li>
<li><p>We end off the algorithm with a <strong>200Bpm</strong> at <strong>20000ms</strong>.</p></li>
<li><p>In each frame we have <strong>20 extra empty milliseconds</strong> as padding.</p></li>
</ul>
</div>
<div class="section" id="algorithm-c">
<h3>Algorithm C<a class="headerlink" href="#algorithm-c" title="Permalink to this headline">¶</a></h3>
<p>This algorithm is essentially the same as B, but it has an installed collapsing algorithm, that is it will automatically
merge lines if they are close enough. This is also the algorithm of choice used in the MD Algorithm.</p>
</div>
</div>
<div class="section" id="differences">
<h2>Differences<a class="headerlink" href="#differences" title="Permalink to this headline">¶</a></h2>
<div class="section" id="recommendations">
<h3>Recommendations<a class="headerlink" href="#recommendations" title="Permalink to this headline">¶</a></h3>
<p>I heavily recommend Algorithm B or C, which uses a Hybrid algorithm to create the smoothest measure line animation
available.</p>
<p>Algorithm A uses only Bpm Lines, however they have flickering on multi-function inputs.</p>
</div>
<div class="section" id="traits">
<h3>Traits<a class="headerlink" href="#traits" title="Permalink to this headline">¶</a></h3>
<p><strong>Version A</strong></p>
<ul class="simple">
<li><p>Multi-Function Stacking.</p></li>
<li><p>Returns a SvPkg</p></li>
<li><p>Often flickers on multi-function, generates noise. (Other random measure lines)</p></li>
<li><p>No minimum distance that lines can be separated by.</p></li>
</ul>
<p>The version attempts to stack functions together to create a longer frame.</p>
<p><strong>Version B</strong></p>
<ul class="simple">
<li><p>Multi-Function Stacking</p></li>
<li><p>Sv + Bpm Hybrid</p></li>
<li><p>Returns a List of OsuSv and OsuBpm</p></li>
<li><p>Rarely flickers on multi-function, doesn’t generate noise. (No other random measure lines)</p></li>
<li><p>Has a small minimum distance that lines can be separated by. (Scales proportionally with Bpm)</p></li>
</ul>
<p>This version uses a singular BPM every frame to define how many measure lines should exist.</p>
<p><strong>Version C</strong></p>
<ul class="simple">
<li><p>Everything B has</p></li>
<li><p>Collapses lines on close contact</p></li>
</ul>
</div>
<div class="section" id="structures">
<h3>Structures<a class="headerlink" href="#structures" title="Permalink to this headline">¶</a></h3>
<p><em>Algorithm Annotation is explained in the info page</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">All</span> <span class="n">symbols</span> <span class="n">are</span> <span class="n">defined</span> <span class="k">as</span> <span class="mi">1</span> <span class="n">ms</span> <span class="n">length</span> <span class="n">unless</span> <span class="n">specified</span><span class="o">.</span>

<span class="n">T</span>     <span class="p">:</span> <span class="n">Teleport</span> <span class="p">(</span><span class="mf">999999.</span><span class="o">..</span> <span class="n">BPM</span><span class="p">)</span>
<span class="n">S</span>     <span class="p">:</span> <span class="n">Stop</span>     <span class="p">(</span><span class="mf">0.000</span><span class="o">..</span><span class="mf">.1</span> <span class="n">BPM</span><span class="p">)</span>
<span class="n">F</span>     <span class="p">:</span> <span class="n">Function</span> <span class="p">(</span><span class="n">This</span> <span class="n">determines</span> <span class="n">where</span> <span class="n">the</span> <span class="n">line</span> <span class="n">should</span> <span class="n">be</span><span class="p">)</span>
<span class="n">_</span>     <span class="p">:</span> <span class="n">Empty</span>    <span class="p">(</span><span class="n">This</span> <span class="ow">is</span> <span class="n">just</span> <span class="n">to</span> <span class="n">pad</span> <span class="n">the</span> <span class="n">sequence</span><span class="p">)</span>
<span class="p">{</span><span class="n">X</span><span class="p">}</span><span class="o">...</span><span class="p">:</span> <span class="n">Repeat</span> <span class="n">X</span> <span class="p">(</span><span class="n">This</span> <span class="ow">is</span> <span class="n">determined</span> <span class="n">by</span> <span class="n">the</span> <span class="n">user</span> <span class="nb">input</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Version A</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">S_{_}...F{_F}..._S_T,S_{_}...F{_F}..._S_T,S_{_}...F{_F}..._S_T,...</span></code></p></li>
</ul>
<p><strong>Version B</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">S{_}...D{F},S{_}...D{F}_,S{_}...D{F}_,...</span></code> Algorithm</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">D</span></code> is a specially calculated teleport</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">{F}</span></code> is defined in OsuSliderVelocities, and is all collapsed in 1ms.</p></li>
</ul>
</div>
</div>
<div class="section" id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<p>All functions take similar parameters and all parameters have the same function.</p>
<div class="section" id="first-last-offset">
<h3>First &amp; Last Offset<a class="headerlink" href="#first-last-offset" title="Permalink to this headline">¶</a></h3>
<p>The offset to start and end the function</p>
</div>
<div class="section" id="functions-funcs">
<h3>Functions (funcs)<a class="headerlink" href="#functions-funcs" title="Permalink to this headline">¶</a></h3>
<p>The functions to use. It expects a float as an input and output.</p>
<p>For example, if you want a measure line moving upwards:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">funcs</span> <span class="o">=</span> <span class="p">[</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">40000</span><span class="p">]</span>
</pre></div>
</div>
<p>The value 40000 is a multiplier so that it’s visible on the screen.</p>
<p>If you want measure lines that cross each other:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">funcs</span> <span class="o">=</span> <span class="p">[</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">40000</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">40000</span> <span class="o">-</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">40000</span><span class="p">]</span>
</pre></div>
</div>
<p>Note that if <code class="docutils literal notranslate"><span class="pre">BPM</span> <span class="pre">==</span> <span class="pre">0</span></code>, it’ll resort to the <code class="docutils literal notranslate"><span class="pre">FALLBACK_ZERO_BPM</span> <span class="pre">defined</span> <span class="pre">in</span> <span class="pre">each</span> <span class="pre">class</span></code>.</p>
<p>You can have as many functions as you want, but both <strong>Version 1 and 2</strong> will generate more noise the more functions
you have.</p>
</div>
<div class="section" id="teleport-stop-reference-and-fill-bpm">
<h3>Teleport, Stop, Reference and Fill Bpm<a class="headerlink" href="#teleport-stop-reference-and-fill-bpm" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Teleport Bpm specifies the value of BPM used to clear the screen. (Only Algo A)</p></li>
<li><p>Stop Bpm specifies the value of BPM used to stop the scroll.</p></li>
<li><p>End Bpm specifies the BPM used to end the algorithm.</p></li>
<li><dl class="simple">
<dt>Reference Bpm specifies the current BPM osu! is used to center all BPMs.</dt><dd><ul>
<li><p>It is the value displayed in brackets. E.g. <strong>BPM: 100-400(200)</strong> reference is 200.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Fill Bpm specifies the value of BPM used to fill the rest of the bounds if the sequence length does not perfectly fit.</dt><dd><ul>
<li><p>Fill Bpm can be <code class="docutils literal notranslate"><span class="pre">None</span></code>, that is, it will not fill.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="start-end-x">
<h3>Start &amp; End X<a class="headerlink" href="#start-end-x" title="Permalink to this headline">¶</a></h3>
<p>The X values to linearly skim through when calculating the Bpms required.</p>
</div>
</div>
<div class="section" id="module-reamber.algorithms.generate.sv.generators.sv_osu_measure_line_a">
<span id="module-info"></span><h2>Module Info<a class="headerlink" href="#module-reamber.algorithms.generate.sv.generators.sv_osu_measure_line_a" title="Permalink to this headline">¶</a></h2>
<p>Generates Measure Line movement for osu! maps. Version 1.</p>
<p>This is a beta function for svOsuMeasureLine, it may or may not work as expected.</p>
<p>This handles multi functions a little bit better by stacking them in a single frame instead of flickering through
them.</p>
<p>Could be used for other VSRGs but if they support negative Scroll then it could be much easier.</p>
<p>Sequence:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">S_</span><span class="p">{</span><span class="n">_</span><span class="p">}</span><span class="o">...</span><span class="n">F</span><span class="p">{</span><span class="n">_F</span><span class="p">}</span><span class="o">...</span><span class="n">_S_T</span><span class="p">,</span><span class="n">S_</span><span class="p">{</span><span class="n">_</span><span class="p">}</span><span class="o">...</span><span class="n">F</span><span class="p">{</span><span class="n">_F</span><span class="p">}</span><span class="o">...</span><span class="n">_S_T</span><span class="p">,</span><span class="n">S_</span><span class="p">{</span><span class="n">_</span><span class="p">}</span><span class="o">...</span><span class="n">F</span><span class="p">{</span><span class="n">_F</span><span class="p">}</span><span class="o">...</span><span class="n">_S_T</span><span class="p">,</span><span class="o">...</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">param first_offset</dt>
<dd class="field-odd"><p>The first Offset to start the function (x = startX)</p>
</dd>
<dt class="field-even">param last_offset</dt>
<dd class="field-even"><p>The last Offset to end the function (x = endX)</p>
</dd>
<dt class="field-odd">param funcs</dt>
<dd class="field-odd"><p>The functions to use. startX &lt;= x &lt;= endX will be called, expecting a BPM as an output.         The more functions you have, the “laggier” it will be.</p>
</dd>
<dt class="field-even">param reference_bpm</dt>
<dd class="field-even"><p>The bpm that is used to zero. Found by looking at BPM:XXX-XXX(Reference Bpm) in song select.</p>
</dd>
<dt class="field-odd">param padding_size</dt>
<dd class="field-odd"><p>The size of the padding, the larger the value, the lower the FPS</p>
</dd>
<dt class="field-even">param teleport_bpm</dt>
<dd class="field-even"><p>The bpm value for teleporting Bpms.</p>
</dd>
<dt class="field-odd">param stop_bpm</dt>
<dd class="field-odd"><p>The bpm value for stop Bpms. Cannot be 0.</p>
</dd>
<dt class="field-even">param fill_bpm</dt>
<dd class="field-even"><p>The bpm to use to fill such that the sequence ends on last_offset. None for no fill.</p>
</dd>
<dt class="field-odd">param end_bpm</dt>
<dd class="field-odd"><p>The bpm to end the sequence with.</p>
</dd>
<dt class="field-even">param start_x</dt>
<dd class="field-even"><p>The starting X to use</p>
</dd>
<dt class="field-odd">param end_x</dt>
<dd class="field-odd"><p>The ending X to use</p>
</dd>
</dl>
<span class="target" id="module-reamber.algorithms.generate.sv.generators.sv_osu_measure_line_b"></span><p>Generates Measure Line movement for osu! maps. Version 2. Inspired by datoujia</p>
<p>Algorithm C implements collapsing, check that one out too, details enclosed there.</p>
<p>This one directly returns svs and bpms due to the nature of the algorithm requiring osu! objects.</p>
<p>This could output as Quaver but it has negative scroll</p>
<p><code class="docutils literal notranslate"><span class="pre">S{_}...D{F},S{_}...D{F}_,...</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">param first_offset</dt>
<dd class="field-odd"><p>The first Offset to start the function (x = startX)</p>
</dd>
<dt class="field-even">param last_offset</dt>
<dd class="field-even"><p>The last Offset to end the function (x = endX)</p>
</dd>
<dt class="field-odd">param funcs</dt>
<dd class="field-odd"><p>The functions to use. startX &lt;= x &lt;= endX will be called, expecting a BPM as an output.         The more functions you have, the “laggier” it will be.</p>
</dd>
<dt class="field-even">param end_bpm</dt>
<dd class="field-even"><p>The bpm value referenced for Bpms.</p>
</dd>
<dt class="field-odd">param padding_size</dt>
<dd class="field-odd"><p>The size of the padding, the larger the value, the lower the FPS</p>
</dd>
<dt class="field-even">param stop_bpm</dt>
<dd class="field-even"><p>The bpm value for stop Bpms. Cannot be 0.</p>
</dd>
<dt class="field-odd">param fill_bpm</dt>
<dd class="field-odd"><p>The bpm to use to fill such that the sequence ends on last_offset. None for no fill.</p>
</dd>
<dt class="field-even">param start_x</dt>
<dd class="field-even"><p>The starting X to use</p>
</dd>
<dt class="field-odd">param end_x</dt>
<dd class="field-odd"><p>The ending X to use</p>
</dd>
<dt class="field-even">param start_y</dt>
<dd class="field-even"><p>The starting Y to use</p>
</dd>
<dt class="field-odd">param end_y</dt>
<dd class="field-odd"><p>The ending Y to use</p>
</dd>
</dl>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="SvOsuMeasureLinePrimer.html" class="btn btn-neutral float-right" title="Osu Measure Lines Primer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../../Sv.html" class="btn btn-neutral float-left" title="Scroll Velocities" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Eve-ning.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>